<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Quiz BRITA â€“ Eau & Ã‰cologie</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 min-h-screen flex items-center justify-center p-6">
  <div class="max-w-2xl w-full bg-white shadow-xl rounded-xl p-6 space-y-4 text-center relative">
    <h1 class="text-2xl font-bold text-blue-700">ğŸŒ Quiz â€“ Lâ€™eau & lâ€™Ã©cologie</h1>
    <div id="timer" class="text-3xl font-bold text-purple-600 absolute top-4 left-4">20</div>
    <div id="quiz" class="space-y-6"></div>
    <div id="feedback" class="text-base font-medium text-green-600"></div>
    <div id="score" class="font-bold text-lg mt-4 hidden"></div>
    <button id="nextBtn" class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 w-full hidden">Suivant</button>
  </div>

  <script>
    const questions = [
      {
        question: "Laquelle de ces options est la plus Ã©cologique ?",
        options: ["Eau filtrÃ©e", "Eau du robinet", "Eau minÃ©rale en bouteille"],
        correct: [0, 1],
        explanation: "Lâ€™eau filtrÃ©e combine les avantages de lâ€™eau du robinet avec une meilleure qualitÃ© gustative."
      },
      {
        question: "Laquelle de ces solutions est la plus Ã©conomique sur lâ€™annÃ©e ?",
        options: ["Eau minÃ©rale en bouteille", "Eau filtrÃ©e avec fontaine", "Eau en bonbonne"],
        correct: [1],
        explanation: "Lâ€™eau filtrÃ©e coÃ»te jusquâ€™Ã  10x moins cher que lâ€™eau en bouteille."
      },
      {
        question: "Combien de bouteilles plastiques peut-on Ã©viter par an avec une fontaine filtrante ?",
        options: ["250", "2 500", "25 000"],
        correct: [2],
        explanation: "25 000 bouteilles/an pour une entreprise de taille moyenne."
      },
      {
        question: "Quel est le principal dÃ©faut de lâ€™eau du robinet selon les consommateurs ?",
        options: ["Son goÃ»t", "Son prix", "Son accessibilitÃ©"],
        correct: [0],
        explanation: "Les filtres BRITA amÃ©liorent le goÃ»t sans additifs."
      },
      {
        question: "Combien de litres dâ€™eau faut-il pour produire une bouteille plastique ?",
        options: ["1 L", "3 L", "7 L"],
        correct: [2],
        explanation: "La production plastique est trÃ¨s gourmande en eau."
      },
      {
        question: "Quel est lâ€™impact environnemental dâ€™une bouteille en plastique ?",
        options: ["Elle se recycle entiÃ¨rement", "Elle met 450 ans Ã  se dÃ©composer", "Elle est biodÃ©gradable"],
        correct: [1],
        explanation: "MÃªme recyclÃ©e, une bouteille ne disparaÃ®t jamais totalement."
      },
      {
        question: "Laquelle de ces solutions consomme le moins de COâ‚‚ ?",
        options: ["Livraison dâ€™eau minÃ©rale", "Eau filtrÃ©e en fontaine BRITA", "Bonbonne livrÃ©e chaque semaine"],
        correct: [1],
        explanation: "Moins de transport, moins dâ€™emballage, zÃ©ro jetable."
      },
      {
        question: "Pourquoi les machines Ã  cafÃ© pro sont-elles plus performantes avec une filtration ?",
        options: ["Moins de calcaire", "GoÃ»t du cafÃ© amÃ©liorÃ©", "DurÃ©e de vie prolongÃ©e", "Toutes les rÃ©ponses"],
        correct: [3],
        explanation: "La filtration protÃ¨ge les machines et amÃ©liore les arÃ´mes."
      }
    ];

    const colors = ["bg-red-500", "bg-blue-500", "bg-yellow-400", "bg-green-500"];

    let currentQuestion = 0;
    let score = 0;
    let timer;
    let timeLeft = 20;
    let answered = false;

    const quizEl = document.getElementById("quiz");
    const feedbackEl = document.getElementById("feedback");
    const scoreEl = document.getElementById("score");
    const nextBtn = document.getElementById("nextBtn");
    const timerEl = document.getElementById("timer");

    function startTimer() {
      timeLeft = 20;
      timerEl.textContent = timeLeft;
      timer = setInterval(() => {
        timeLeft--;
        timerEl.textContent = timeLeft;
        if (timeLeft <= 0) {
          clearInterval(timer);
          if (!answered) {
            feedbackEl.innerText = "â° Temps Ã©coulÃ© !";
            nextBtn.style.display = "block";
            answered = true;
          }
        }
      }, 1000);
    }

    function loadQuestion() {
      answered = false;
      const q = questions[currentQuestion];
      quizEl.innerHTML = `
        <h2 class="text-xl font-semibold">${q.question}</h2>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
          ${q.options.map((opt, i) => `
            <button 
              class="text-white text-lg font-semibold py-4 px-4 rounded shadow ${colors[i % colors.length]} hover:scale-105 transition duration-200"
              onclick="selectAnswer(${i})">${opt}</button>
          `).join("")}
        </div>
      `;
      feedbackEl.innerText = "";
      nextBtn.style.display = "none";
      startTimer();
    }

    window.selectAnswer = (i) => {
      if (answered) return;
      answered = true;
      clearInterval(timer);

      const isCorrect = questions[currentQuestion].correct.includes(i);
      if (isCorrect) score++;
      feedbackEl.innerText = (isCorrect ? "âœ… Bonne rÃ©ponse ! " : "âŒ Mauvaise rÃ©ponse. ") + questions[currentQuestion].explanation;
      nextBtn.style.display = "block";
    };

    nextBtn.onclick = () => {
      currentQuestion++;
      if (currentQuestion < questions.length) {
        loadQuestion();
      } else {
        quizEl.innerHTML = "";
        feedbackEl.innerText = "";
        scoreEl.innerText = `ğŸ¯ Score final : ${score} / ${questions.length}`;
        scoreEl.style.display = "block";
        timerEl.style.display = "none";
        nextBtn.style.display = "none";
      }
    };

    loadQuestion();
  </script>
</body>
</html>
